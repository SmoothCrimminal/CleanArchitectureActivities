<MudPaper Width="95%" Style="padding: 10px">
    @if (IsCurrentUser)
    {
        <EditForm Model="@ProfileViewModel" OnValidSubmit="UpdateProfile">
            <DataAnnotationsValidator />

            <MudTextField Placeholder="Display name" @bind-Value="_changedProfileViewModel.DisplayName" For="() => _changedProfileViewModel.DisplayName" />
            <MudTextField Placeholder="Bio" @bind-Value="_changedProfileViewModel.Bio" For="() => _changedProfileViewModel.Bio" AutoGrow="true" FullWidth="true" />

            <MudButton Size="Size.Large" ButtonType="ButtonType.Submit" Variant="Variant.Filled" Color="Color.Success" Disabled="@CanUpdateProfile()" Style="float: right; margin: 10px">
                @if (_isBusy)
                {
                    <MudProgressCircular Class="ms-n1" Size="Size.Small" Indeterminate="true" />
                }
                else
                {
                    <MudText>Update Profile</MudText>
                }
            </MudButton>
        </EditForm>
    }
    else
    {
        <MudText Typo="Typo.h6" Style="font-weight: bold">@ProfileViewModel.DisplayName</MudText>
        <MudTextField T="string" FullWidth="true" ReadOnly="true">@ProfileViewModel.Bio</MudTextField>
    }
</MudPaper>
