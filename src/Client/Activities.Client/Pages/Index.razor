@page "/"

@inject ActivitiesService ActivitiesService

<PageTitle>Clean Activities</PageTitle>

<div style="display: flex; align-content: center; text-align: center; margin-bottom: 10px">
    <MudIcon Icon="@Icons.Material.Filled.People" Size="Size.Large" Style="margin-right: 25px"/>
    <MudText Typo="Typo.h4">Clean Activities</MudText>
</div>

<ActivityDashboard Activities="_activities"/>

@code {
    private List<ActivityViewModel>? _activities;

    protected override async Task OnInitializedAsync()
    {
        var activities = await ActivitiesService.GetActivities();
        if (activities is null || !activities.Any())
            return;

        _activities = new List<ActivityViewModel>();

        foreach (var activity in activities)
            _activities.Add((ActivityViewModel)activity);
    }
}